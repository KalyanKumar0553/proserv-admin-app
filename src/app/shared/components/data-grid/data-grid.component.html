<div class="table-responsive">
  <table class="table table-hover table-bordered">
    <thead class="table-light">
      <tr>
        <th *ngFor="let header of headers" (click)="sortData(header.field)" style="cursor: pointer; position: relative;">
          <div class="header-container">
            <div class="label-sort-container">
              <span>{{ header.label }}</span>
              <span *ngIf="sortField === header.field">{{ sortDirection === 'asc' ? '‚Üë' : '‚Üì' }}</span>
            </div>
            <span (click)="$event.stopPropagation(); toggleFilter(header.field)" class="filter-icon">üîç</span>
          </div>
          <div *ngIf="showFilter[header.field]" class="filter-container mt-2">
            <input type="text" class="form-control form-control-sm"
              [(ngModel)]="filters[header.field]"
              (keydown.enter)="applyFilters()"
              (click)="$event.stopPropagation()">
          </div>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of paginatedData">
        <td *ngFor="let header of headers">
          {{ item?.[header.field] ?? '-' }}
        </td>
      </tr>
    </tbody>
  </table>
  <div class="d-flex justify-content-between align-items-center">
    <div>
      Showing {{ paginatedData.length }} of {{ filteredData.length }} records
    </div>
    <nav>
      <ul class="pagination mb-0">
        <li class="page-item" [class.disabled]="currentPage === 1">
          <a class="page-link" (click)="currentPage = currentPage - 1" aria-label="Previous">&laquo;</a>
        </li>
        <li class="page-item" *ngFor="let page of [].constructor(totalPages()); let i = index" [class.active]="currentPage === (i + 1)">
          <a class="page-link" (click)="currentPage = i + 1">{{ i + 1 }}</a>
        </li>
        <li class="page-item" [class.disabled]="currentPage === totalPages()">
          <a class="page-link" (click)="currentPage = currentPage + 1" aria-label="Next">&raquo;</a>
        </li>
      </ul>
    </nav>
  </div>
</div>